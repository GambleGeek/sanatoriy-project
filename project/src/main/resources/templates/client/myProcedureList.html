<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style2.css">
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/style2.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <script src="https://kit.fontawesome.com/49f02c4676.js" crossorigin="anonymous"></script>
    <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
    <title>Client</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        .head {
            background-color: lightseagreen;
        }

        .font_color {
            color: lightseagreen;
        }

        .button {
            position: absolute;
            bottom: 0;
            right: 0;
        }

        body {
            overflow-y: scroll;
        }

        .widget-left {
            padding-right: 1px;
        }

        .sidebar ul li i {
            height: 50px;
            min-width: 30px;
            border-radius: 12px;
            line-height: 50px;
            text-align: center;
            white-space: nowrap;
        }

        ol,
        ul {
            padding-left: 10%;
        }

        .sidebar ul li {
            position: relative;
            height: 55px;
            width: 70%;
            margin: 0 0 0 5px;
            list-style: none;
            line-height: 20px;
        }

        .sidebar.active ul li {
            width: 100%;
        }

        .sidebar.active #btn {
            left: 90%;
            z-index: 10;
        }

        .home_content ul li {
            margin-right: 15px;
        }

        .home_content ul li a i {
            margin-bottom: 10px;
            margin-right: 2px;
        }
    </style>
</head>

<body>

<div class="sidebar">
    <div class="logo_content">
        <div class="logo">
            <i class="bx">
                <img th:src="@{/image/logo.png}" style="height: 50px; width: 50px;">
            </i>
            <div class="logo_name">San</div>
        </div>
        <i class="bx bx-menu" id="btn"></i>
    </div>
    <ul class="nav_list">
        <li>
            <a href="/client/">
                <i class='bx bxs-home'></i>
                <span class="links_name">Home</span>
            </a>
            <span class="tooltip">Home</span>
        </li>
        <li>
            <a href="/client/mycard">
                <i class="fas fa-heartbeat"></i>
                <span class="links_name">My medical card</span>
            </a>
            <span class="tooltip">My medical card</span>
        </li>
        <li>
            <a href="/client/allprocedures">
                <i class='bx bx-plus-medical'></i>
                <span class="links_name">Procedure List</span>
            </a>
            <span class="tooltip">Procedure List</span>
        </li>
        <li>
            <a href="/client/myprocedures">
                <i class='bx bx-user'></i>
                <span class="links_name">My Procedures</span>
            </a>
            <span class="tooltip">My Procedures</span>
        </li>
        <li>
            <a href="/client/checks">
                <i class="fas fa-money-bill"></i>
                <span class="links_name">My Purchases</span>
            </a>
            <span class="tooltip">My Purchases</span>
        </li>
        <li>
            <a href="/client/showHistory">
                <i class="fas fa-notes-medical"></i>
                <span class="links_name">My Treatment</span>
            </a>
            <span class="tooltip" style="z-index: 1000;">My Treatment</span>
        </li>
    </ul>
    <div class="profile_content">
        <div class="profile">
            <div class="profile_details">
                <img th:src="@{/image/manager2.png}" class="img-fluid">
                <div class="name_job">
                    <div class="name" th:text="${client.getName()}">name</div>
                    <div class="job">Client</div>
                </div>
            </div>
            <!-- ссылка -->
            <a href="/logout">
                <i class="bx bx-log-out text-white" id="log_out"></i>
            </a>
        </div>
    </div>
</div>

<div class="home_content" style="left: 75px;">
    <div class="">
        <div class="rounded-top text-white d-flex" style="background-color: #000; height:200px;">
            <div class="ms-5 d-flex flex-column" style="width: 150px; margin-top: 45px">
                <img th:src="@{/image/manager2.png}" class="img-fluid">
            </div>
            <div class="ms-1" style="margin-top: 130px;">
                <h5 th:text="${client.getName()}">John Smith</h5>
                <p>Client</p>
            </div>
        </div>
            <div class="p-4 text-black">
                <hr>
                <div class="d-flex justify-content-center mt-4">
                    <!--Основной контент-->
                    <div class="border px-3" style="margin-right: 50px; width: 330px;
                height: 30%;">
                        <h5 class="mt-2 mb-4 fw-bold text-center pt-3">Weather in Bishkek</h5>
                        <div id="_MI_66984b5d9a980bd88b936ac37ca9bdf2" class="widget" style="margin-left: 3px;">
                            <a href="https://ru.meteotrend.com/">Прогноз погоды</a>
                        </div>

                        <hr>

                        <h5 class="mt-2 b-2 text-center">Events in Sanatorium</h5>
                        <p class="fw-bold text-center mb-1">20 December</p>
                        <p class="mb-1">10:00-12:00 - First Event In Main Hall</p>
                        <p>18:00-19:00 - Dinner By Famous Chef</p>
                    </div>

                    <!-- HERE -->
                    <div class="col-md-8 ">
        
                        <div class="col-md-12 border rounded mt-4 pb-3">
                
                            <div class="row card-header head pt-4">
                                <h4 class="text-white">bought procedures</h4>
                            </div>
                
                            <div th:each="procedure: ${boughtProcedures}">
                
                                <div class="col-md-12 mt-3">
                                    <div class="row p-2 bg-white border rounded">
                                        <div class="col-md-3 mt-1 mb-1">
                                            <img class="img-fluid" th:src="@{/image/{id}.jpg(id=${procedure.getId()})}">
                                        </div>
                                        <div class="col-md-6 mt-1">
                                            <h5 th:text="${procedure.getName()}">Procedure name</h5>
                                            <div class="mt-1 mb-1">
                                                <p class="text-justify">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.</p>
                                            </div>
                                        </div>
                                        <div class="align-items-center align-content-center col-md-3 border-left mt-3">
                                            <h4 class="text-info" th:text="${'Next procedure is ' + procedure.upcoming()}">UPCOMING</h4>
                                            <br>
                                            <h5 th:text="${procedure.getStringStart_at() + ' - ' + procedure.getStringEnd_at}"></h5>
                                        </div>
                                    </div>
                                </div>
                            </div>
                
                        </div>
                
                        <div class="col-md-12 border rounded mt-4 pb-3">
                
                            <div class="row card-header head pt-4">
                                <h4 class="text-white">procedures that i visited</h4>
                            </div>
                
                            <div th:each="procedure: ${myProcedures}">
                
                                <div class="col-md-12 mt-3">
                                    <div class="row p-2 bg-white border rounded">
                                        <div class="col-md-3 mt-1 mb-1">
                                            <img class="img-fluid" th:src="@{/image/{id}.jpg(id=${procedure.getId()})}">
                                        </div>
                                        <div class="col-md-6 mt-1">
                                            <h5 th:text="${procedure.getName()}">Procedure name</h5>
                                            <div class="mt-1 mb-1">
                                                <p class="text-justify">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.</p>
                                            </div>
                                        </div>
                                        <div class="align-items-center align-content-center col-md-3 border-left mt-1">
                                            <div class="d-flex flex-row align-items-center">
                                                <h4 class="mr-1" th:text="${procedure.getPrice() + 'som'}">PRICE</h4>
                                            </div>
                                            <h6 class="text-info" th:text="${procedure.getDaysOfWeekString()}">DAYS</h6>
                                            <p th:text="${procedure.getStringStart_at() + ' - ' + procedure.getStringEnd_at}"></p>
                                            <div class="d-flex flex-column mt-4">
                                                <form th:action="@{'/client/history' + ${procedure.getId()}}">
                                                    <input class="btn btn-primary btn-sm mt-2 w-100" type="submit" value="Show history">
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let btn = document.querySelector("#btn");
        let sidebar = document.querySelector(".sidebar");
        let homeContent = document.querySelector(".home_content");
        let widget = document.querySelector(".widget")

        btn.onclick = function () {
            sidebar.classList.toggle("active")
            homeContent.classList.toggle("home_content_big")
            widget.classList.toggle("widget-left")
        }

    </script>
    <script
        type='text/javascript'>(function (d, w, t, k) { function l() { if (typeof (w._MIOB_) == 'undefined') { w._MIOB_ = {}; } var m = w._MIOB_[t] = k; var s = d.createElement('script'); m.p = ('https:' == d.location.protocol ? 'https:' : 'http:'); s.type = 'text/javascript'; s.async = true; s.src = m.p + '//info.meteotrend.com/mt/' + m.t + '.js'; d.body.appendChild(s); } if (d.readyState == 'complete') l(); else { if (w.attachEvent) w.attachEvent('onload', l); else w.addEventListener('load', l, false); } })(document, window, '66984b5d9a980bd88b936ac37ca9bdf2', { t: '4x6', sw: { "pname": 1, "ccond": 1, "ccdesc": 1, "dayblock": 1, "tblank": 1 }, css: ['{p}//info.meteotrend.com/mt/{t}.css', '{p}//info.meteotrend.com/cs/7206a0560b4352ff43b0b986ccf1c4f88edab7a6.css'], source: 'meteotrend' });</script>


</body>

</html>
